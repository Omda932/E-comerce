"use strict";(self.webpackChunkecomerce=self.webpackChunkecomerce||[]).push([[987],{2987:(h,l,i)=>{i.r(l),i.d(l,{CartModule:()=>v});var u=i(6814),a=i(7163),t=i(4769),d=i(9683);function m(c,_){if(1&c){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div"),t._UZ(3,"img",9),t.qZA()(),t.TgZ(4,"div",10)(5,"div")(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"h5",5),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"div",11),t.NdJ("click",function(){const n=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.remveCartItem(n.product.id))}),t._UZ(12,"i",12),t.TgZ(13,"span",13),t._uU(14,"Remove"),t.qZA()()()(),t.TgZ(15,"div",14)(16,"button",15),t.NdJ("click",function(){const n=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.updateCartByButton(n.product.id,n.count+1))}),t._uU(17,"+"),t.qZA(),t.TgZ(18,"span",16),t._uU(19),t.qZA(),t.TgZ(20,"button",15),t.NdJ("click",function(){const n=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.updateCartByButton(n.product.id,n.count-1))}),t._uU(21,"-"),t.qZA()()()}if(2&c){const e=_.$implicit;t.xp6(3),t.Q6J("src",e.product.imageCover,t.LSH),t.xp6(4),t.Oqu(e.product.title),t.xp6(2),t.hij("Price: ",t.xi3(10,4,e.price,"EGY"),""),t.xp6(10),t.Oqu(e.count)}}const p=function(c){return["/payment",c]},C=[{path:"",component:(()=>{class c{constructor(e,r){this._cartServicesService=e,this._router=r}ngOnInit(){this.getCart()}getCart(){this._cartServicesService.getCart().subscribe({next:e=>{console.log(e),this.cart=e},error:e=>{console.log(e)}})}updateCartByButton(e,r){r>0?this._cartServicesService.updateCart(e,r).subscribe({next:o=>{console.log(o),this.cart=o},error:o=>{console.log(o)}}):this.remveCartItem(e)}remveCartItem(e){this._cartServicesService.deletCartItem(e).subscribe({next:r=>{console.log(r),this.cart=r,this._cartServicesService.cartNumber.next(r.numOfCartItems)},error:r=>{console.log(r)}})}clearCartItems(){this._cartServicesService.clearCart().subscribe({next:e=>{"success"==e.message&&(console.log(e),this._router.navigate(["home"]),this._cartServicesService.cartNumber.next(0))},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(r){return new(r||c)(t.Y36(d.E),t.Y36(a.F0))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-cart"]],decls:20,vars:6,consts:[[1,"mt-5"],[1,"bg-light","py-3"],[1,"d-flex","justify-content-between","my-3"],[1,"btn","bg-main","text-white","mx-2",3,"routerLink"],[1,"btn","bg-danger","text-white",3,"click"],[1,"text-main"],["class","row align-items-center my-2 border-bottom",4,"ngFor","ngForOf"],[1,"row","align-items-center","my-2","border-bottom"],[1,"col-md-3"],[1,"w-100",3,"src"],[1,"col-md-6"],[1,"removeItem",3,"click"],[1,"fa","fa-trash","text-danger"],[1,"text-danger"],[1,"col-md-3","d-flex","justify-content-end","align-items-center"],[1,"btn","fa-2xl","p-3","border-success",3,"click"],[1,"border-2","p-3","fa-2xl"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"cart"),t.qZA(),t.TgZ(5,"div")(6,"button",3),t._uU(7," Payment"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.clearCartItems()}),t._uU(9," Clear Cart"),t.qZA()()(),t.TgZ(10,"div",2)(11,"h2"),t._uU(12,"Number Of Items: "),t.TgZ(13,"span",5),t._uU(14),t.qZA()(),t.TgZ(15,"h2"),t._uU(16,"Total Price: "),t.TgZ(17,"span",5),t._uU(18),t.qZA()()()(),t.YNc(19,m,22,7,"div",6),t.qZA()),2&r&&(t.xp6(6),t.Q6J("routerLink",t.VKq(4,p,o.cart.data._id)),t.xp6(8),t.Oqu(o.cart.numOfCartItems),t.xp6(4),t.Oqu(o.cart.data.totalCartPrice),t.xp6(1),t.Q6J("ngForOf",o.cart.data.products))},dependencies:[u.sg,a.rH,u.H9],styles:[".removeItem[_ngcontent-%COMP%]{cursor:pointer}"]})}return c})()}];let g=(()=>{class c{static#t=this.\u0275fac=function(r){return new(r||c)};static#e=this.\u0275mod=t.oAB({type:c});static#r=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(C),a.Bz]})}return c})(),v=(()=>{class c{static#t=this.\u0275fac=function(r){return new(r||c)};static#e=this.\u0275mod=t.oAB({type:c});static#r=this.\u0275inj=t.cJS({imports:[u.ez,g]})}return c})()}}]);